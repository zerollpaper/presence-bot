# 📋 在室ボット 使い方ガイド

このボットを使うと、チームメンバーの在室状況や予定を簡単に共有・確認できます。

---

## 🚀 初期設定

最初に一度だけ実行してください：

```
/setup
```

チャンネルに在室ボードが作成され、自動的にピン留めされます。
以降、コマンドを実行するとボードが自動更新されます。

---

## 📅 ステータス登録コマンド

### 基本コマンド（曜日指定可能）

**今日のステータスを設定：**
```
/in
/out
/pm
/home
```

**曜日を指定してステータスを設定：**
```
/in mon tue        ← 月曜・火曜を in に
/out fri           ← 金曜を out に
/pm mon-fri        ← 月〜金を pm に
/home wed          ← 水曜を home に
```

**メモ付きで設定：**
```
/in mon tue 午前中外出
/out fri 休暇
```

#### ステータスの意味
- ✅ **in** - 出勤・在室
- ❌ **out** - 外出・不在
- 🕒 **pm** - 午後のみ在室
- 🏠 **home** - リモートワーク・在宅

---

### 日付指定可能なコマンド

以下のコマンドは曜日だけでなく、具体的な日付や月も指定できます：

```
/maybe
/trip
/will
/can
```

**使用例：**
```
/trip 1/20-1/24            ← 1月20〜24日を trip に
/maybe 1/20 1/21 1/24      ← 1月20日、21日、24日を maybe に
/trip 1/20,1/21,1/24       ← カンマ区切りもOK
/will jan feb              ← 1月と2月の全日を will に
/can 1/20-2/5 出張予定     ← メモ付き
```

#### ステータスの意味
- 🤔 **maybe** - 未定・検討中
- ✈️ **trip** - 出張・旅行
- 📅 **will** - 予定あり
- 💡 **can** - 対応可能

---

## 🔍 表示コマンド

### /lab - ボードの表示

**今日の状況を表示：**
```
/lab
```

**今週（7日間）を表示：**
```
/lab week
```

**複数週を表示：**
```
/lab 2        ← 2週間分
/lab 3        ← 3週間分
/lab 4 weeks  ← 4週間分
```

**特定ユーザーの全予定を表示：**
```
/lab @alice
```
→ 自分だけに見えるメッセージ（ephemeral）で表示されます

---

## 🗑 削除コマンド

### /clear - ステータスの削除

**今日のステータスを削除：**
```
/clear
```

**今週（7日間）を削除：**
```
/clear week
```

**指定週数分を削除：**
```
/clear 2        ← 2週間分
/clear 3 weeks  ← 3週間分
```

**全ての予定を削除：**
```
/clear all
```

---

## 📝 メモの追加・更新

```
/note ミーティング多め
/note              ← メモを空にする
```

今日のステータスにメモを追加・更新します。
ステータス自体は変更されません。

---

## 📖 日付・曜日の指定方法

### 曜日指定

| 書き方 | 意味 |
|--------|------|
| `mon` `tue` `wed` | 月曜 火曜 水曜 |
| `thu` `fri` `sat` `sun` | 木曜 金曜 土曜 日曜 |
| `mon tue` | 月曜と火曜 |
| `mon-fri` | 月曜から金曜まで |

※ 大文字小文字は区別しません（MON、Mon、mon すべてOK）
※ フルスペル（monday, tuesday など）も使えます

### 日付指定

**重要：日付は必ず「月/日」形式で指定してください**

| 書き方 | 意味 | 備考 |
|--------|------|------|
| `2/1 2/2 2/5` | 2月1日、2日、5日 | スペース区切り ✅ |
| `2/1,2/2,2/5` | 2月1日、2日、5日 | カンマ区切り ✅ |
| `2/1-2/5` | 2月1日〜5日 | 範囲指定 ✅ |
| `2/1, 2/2, 2/5` | 2月1日、2日、5日 | スペース混在OK ✅ |
| `1/20-2/5` | 1月20日〜2月5日 | 月をまたぐ範囲 ✅ |

**無効な書き方（認識されません）：**
| 書き方 | 理由 |
|--------|------|
| `2/1-5` | ❌ 月省略は不可（`2/1-2/5` と書く） |
| `2/1 3 4` | ❌ `3 4` は月省略なので無効 |
| `mon - fri` | ❌ ハイフンの前後にスペースがある |

### 月指定

| 書き方 | 意味 |
|--------|------|
| `jan` `feb` `mar` | 1月 2月 3月（全日） |
| `jan feb` | 1月と2月の全日 |

※ 3文字略語（jan, feb...）またはフルスペル（january, february...）が使えます
※ 過去の月を指定すると自動的に来年として扱われます

---

## 🎯 使用例

### 週次の予定登録
```
/in mon tue wed fri
/home thu
/trip 1/25-1/27 年末休暇
```

### 出張登録
```
/trip 2/10-2/14 大阪出張
/maybe 2/15 予備日
```

### 複雑な予定
```
/in mon-fri
/trip 2/3 2/6 2/10-2/14
/note 詳細はカレンダー参照
```

---

## 💡 Tips

- **ボードは自動更新**: どのコマンドを実行してもピン留めされたボードが自動的に更新されます
- **過去の日付は自動削除**: ボード更新時に過去の日付は自動的に削除されます
- **上書き可能**: 同じ日付に複数回設定すると上書きされます
- **複数曜日・日付OK**: スペースまたはカンマ区切りで複数指定できます
- **メモはオプション**: コマンドの最後に自由に文字を追加できます
- **日付は必ず「月/日」形式**: 月の省略（`1/20-24`）は使えません → `1/20-1/24` と書いてください
- **範囲指定はハイフン**: ハイフンの前後にスペースを入れないでください（`mon-fri` ✅、`mon - fri` ❌）


## ⚠️ 注意事項

- コマンドは必ず `/` で始めてください
- 曜日指定は今日から7日以内の該当曜日が対象です
- 日付指定は過去の日付を指定すると来年として扱われます
- ユーザー名は Slack の表示名が使用されます

---

## 🔧 管理者用コマンド

### /delete - ボットのメッセージを全削除

```
/delete
```

※ 管理者のみ実行可能
※ チャンネル内のボットの全メッセージを削除し、ボード設定もリセットします
※ 削除後は `/setup` から再設定が必要です

---

## 📞 困ったときは

- ボードが表示されない → `/setup` を実行
- コマンドが効かない → 時間を待って再実行
- 間違えた → `/clear` で削除
- 全部やり直したい → `/clear all` で全削除

---

**最終更新:** 2026年1月
