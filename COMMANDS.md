# Presence Bot コマンド一覧

## セットアップ

### `/setup`
在室ボードを作成してチャンネルにピン留めします。

登録するスラッシュコマンド：
- /setup, /in, /out, /pm, /home, /maybe
- /trip, /will, /can
- /clear, /lab, /note, /delete

## 基本ステータスコマンド（曜日対応）

これらのコマンドは曜日指定に対応しています：

### `/in [曜日] [note]`
在室ステータスを設定 ✅

**例:**
- `/in` → 今日を在室に
- `/in mon tue` → 月曜と火曜を在室に
- `/in mon-fri` → 月曜〜金曜を在室に
- `/in wed afternoon meeting` → 水曜を在室に（note: "afternoon meeting"）

### `/out [曜日] [note]`
不在ステータスを設定 ❌

**例:**
- `/out` → 今日を不在に
- `/out fri` → 金曜を不在に
- `/out mon wed fri` → 月・水・金を不在に

### `/pm [曜日] [note]`
午後からステータスを設定 🕒

**例:**
- `/pm` → 今日を午後からに
- `/pm thu` → 木曜を午後からに

### `/home [曜日] [note]`
在宅ステータスを設定 🏠

**例:**
- `/home` → 今日を在宅に
- `/home mon-fri` → 月曜〜金曜を在宅に

### `/maybe [曜日|日付] [note]`
未定ステータスを設定 🤔

**例:**
- `/maybe` → 今日を未定に
- `/maybe thu 午後` → 木曜を未定に（note: "午後"）
- `/maybe 1/20-24` → 1/20〜24を未定に
- `/maybe jan` → 1月全体を未定に

## 長期予定コマンド（日付対応）

これらのコマンドは曜日と日付の両方に対応しています：

### `/trip [曜日|日付] [note]`
出張/旅行ステータスを設定 ✈️

**例:**
- `/trip 1/20-2/5` → 1/20〜2/5を出張に
- `/trip 1/20, 21, 24` → 1/20, 21, 24を出張に
- `/trip jan feb` → 1月と2月を出張に
- `/trip mon-fri 出張` → 月〜金を出張に

### `/will [曜日|日付] [note]`
予定ありステータスを設定 📅

**例:**
- `/will 1/20-24` → 1/20〜24に予定あり
- `/will 1/20,23-25,2/1-5` → 複数日付を組み合わせて予定あり

### `/can [曜日|日付] [note]`
対応可能ステータスを設定 💡

**例:**
- `/can 1/20-24` → 1/20〜24は対応可能

## 日付指定の書き方

### 曜日指定（今日から7日以内）
- `mon tue wed thu fri sat sun` - 曜日を指定
- `mon-fri` - 範囲指定（月〜金）
- 大文字小文字は無視されます

### 日付指定
- `1/20-24` - 同じ月内の範囲（1/20〜1/24）
- `1/20-2/5` - 月をまたぐ範囲（1/20〜2/5）
- `1/20 - 2/5` - スペースがあってもOK
- `1/20,21,24` - カンマ区切りで複数日
- `1/20, 21, 24` - スペース入りでもOK
- `1/20,23-25,2/1-5` - 色々混合も可能

### 月指定
- `jan feb mar ...` - 月名で指定（その月の全日）
- 過去の月は自動的に翌年扱いになります

## その他のコマンド

### `/note [テキスト]`
今日のnoteを更新します（ステータスは維持）

### `/clear [オプション]`
ステータスを削除します

**例:**
- `/clear` → 今日のステータスを削除
- `/clear week` → 今週（7日間）のステータスを削除
- `/clear 3` → 今日から3週間のステータスを削除
- `/clear 3 weeks` → 同上
- `/clear all` → 全てのステータスを削除

### `/lab [オプション]`
スケジュールを表示します

**例:**
- `/lab` → 今日のボードを表示
- `/lab week` → 今週（7日間）を表示
- `/lab 3` → 今日から3週間を表示（コードブロック形式）
- `/lab 3 weeks` → 同上
- `/lab @alice` → aliceの予定を自分だけに表示（Ephemeral message）

### `/delete`（管理者のみ）
ボットのメッセージを全削除します

## 仕様

- **過去の日付は自動削除**: 毎日0時に過去のデータは削除されます
- **上書き**: 同じ日に複数回設定すると上書きされます
- **過去の月/日付**: 自動的に翌年として扱われます
- **ボード更新**: ピン留めされたボードは自動的に更新されます
  - 今日の状態
  - 今週の状態（7日間）

## デバッグモード

環境変数 `DEBUG=1` でデバッグログを有効化できます（デフォルト: 有効）
